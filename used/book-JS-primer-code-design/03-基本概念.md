## 第三章 基本概念

#### 判断类型

typeof 是操作符（类似加号减号），不是函数，所以后面的括号不是必须的，下面两种写法都是正确的。

~~~js
typeof(a)
typeof a
~~~

#### 数值

数值：默认情况下，会把小数点后面6个0的浮点数，转换成科学计数法显示。

数值范围：通常不需要监测超出范围。如果执行极大或者极小的计算，可以使用 isFinite 函数判断是否越界。

数值转换：Number(null) 返回 0。parseInt(‘string’, 基数) 把某个变量按照基数进制转换成数值；最好带基数，避免十六进制和八进制的转换。

#### 字符串

字符串：length 返回字符串的长度（如果字符串中有双字节字符，\u03a3，那么 length 属性返回的可能不正确）字符串转换可以使用 toString 和 String。但是 Null 没有第一个方法，最好使用 String() 进行转换。

字符串的比较：实际上不是按照字母表比较，而是按照字符串对应的每个字符编码值进行比较。如果必须比较，那么可以把英文字母转换成大写和小写再比较。比较时（排序）需要注意数据类型和类型转换。

null == undefined 但是 null !== undefined，最好使用全等号

#### 循环

数组循环有顺序，对象循环结果没有顺序，所以 for-in 循环后的结果，可能在不同浏览器内显示不同，需要注意。有顺序的变量不能使用对象存储。其他同事的代码，可能还有类似的问题，使用对象存储，然后 for-in 遍历。

多层循环中（for循环）可以使用 label 标注不同的循环，然后内部 break 或者 continue 可以明确到不同层级的循环（内循环的结束标签对应外部的 label）如果层级复杂，建议使用注释标明，避免多层嵌套。

~~~js
var num = 0; 
outermost: 
for (var i=0; i < 10; i++) { 
  for (var j=0; j < 10; j++) { 
    if (i == 5 && j == 5) { 
      break outermost; 
    } 
    num++; 
  } 
} 
alert(num); //55
~~~

#### 函数

推荐：函数有返回值（类似严格的TS验证，必须返回一个固定数据类型的值）如果不返回值或者数据类型变化，那么调试函数比较麻烦（原地函数除外）。纯函数和原地函数的取舍。

函数中可以使用 arguments 伪数组获取函数的参数（引用类型）函数的参数个数没有限制，最好是明确的函数参数，而且参数最好小于3个（复杂函数写清楚参数注释）。如果函数参数很多，超过20行，那么这个函数应该拆分成不同的小函数，便于维护。

JS 中没有函数的重载（名称相同的函数，后一个会覆盖前一个）可以通过检测函数的传参，判断函数的功能。这样最好拆分成多个函数。



小结：

- ECMAScript 中的基本数据类型包括 Undefined、Null、Boolean、Number 和 String。 

- ECMScript 没有为整数和浮点数值分别定义不同的数据类型，Number 类型可用于表示所有数值。

- ECMAScript 中也有一种复杂的数据类型，即 Object 类型，该类型是这门语言中所有对象的基础类型。

- 严格模式为这门语言中容易出错的地方施加了限制。

- ECMAScript 提供了很多与 C 及其他类 C 语言中相同的基本操作符，包括算术操作符、布尔操作符、关系操作符、相等操作符及赋值操作符等。

- ECMAScript 从其他语言中借鉴了很多流控制语句，例如 if 语句、for 语句和 switch 语句等。ECMAScript 中的函数与其他语言中的函数有诸多不同之处。

- 无须指定函数的返回值，因为任何函数都可以在任何时候返回任何值。未指定返回值的函数返回的是一个特殊的 undefined 值。

- ECMAScript 中也没有函数签名的概念，因为其函数参数是以一个包含零或多个值的数组的形式传递的。由于不存在函数签名的特性，ECMAScript 函数不能重载。

- 可以向 ECMAScript 函数传递任意数量的参数，并且可以通过 arguments 对象来访问这些参数。

