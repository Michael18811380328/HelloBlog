# Network note

## SMTP 和 POP3 和 IMAP 的区别

相同点：这三个都是运行在邮件服务器的服务（例如QQ邮件服务器，163邮件服务器等）

SMTP 服务：处理发送邮件。如果发件人和收件人是同一个域（都是163自己的域），那么直接转；如果不是同一个域（163发给QQ），首先要进行 DNS 查询，然后找到 host 并发送。

POP3 和 IMAP ：处理接受邮件。POP3 比较旧，IMAP 较新。

POP3：本地读到邮件后，邮件从服务器上删除，邮件进行本地编辑。如果多个终端链接服务器有问题。

IMAP：本地读到邮件后，邮件不会从服务器上删除。

详情参考：https://www.zhihu.com/question/24605584

这个和前端关联不大，了解即可


## RestAPI 与 GraphQL

简单和同事分享了两种网络技术协议，REST API 和 GraphQL。

restAPI 是早期的协议。在网络请求中，url 中表示请求的资源名称，请求的方法对应数据库的增删改查操作（回想一下常见的四种请求方法，get post delete put 的特点，以及 head option 请求方法）。这样的好处是 URL 直接关注资源，不需要关注怎么操作资源，目前项目大部分给予这个协议。

GraphQL是新一代的协议。每一个请求都类似 POST 请求，前端把需要的参数通过 POST 类似 JSON 发给后端，然后后端根据需要的参数返回给前端（后端需要查询）。好处：URL固定的，不会频繁变化。很多资源可以在一个 Query 中获取，这样服务器并行请求压力较小。服务器无需返回不需要的字段（前端需要用户姓名，后端会查询一次数据库，把用户很多信息拿到并返回）。这个也有不足，需要设置很多的查询和错误处理（前端查询两个参数，一个出错，怎么返回；数据量较大，传输更加消耗时间——网络良好的情况下不需要考虑这个）。

## 应用层网络协议
总结了 DHCP 动态主机配置协议，DNS 域名系统，FTP 文件传输协议的知识点。
1. DHCP 动态主机配置协议：在计算机网络中，新加入的主机通过 DHCP 服务自动获取 IP 等配置信息。使用 UDP 协议。获取地址阶段，租约过半阶段，租约到期阶段，在不同阶段发送不同的报文等。
2. DNS 域名系统：域名的原理，域名解析规则，根域名，顶级域名等划分。原理：主机和本地域名服务器使用递归方式解析，本地域名服务器和其他域名使用迭代方式解析。域名缓存存在过期时间，到期后，需要重新解析。不同域名不同情况下，本地域名服务器发出的请求次数。
3. FTP 是文件传输协议，存在两个链接，控制链接和数据链接。控制链接在会话阶段始终保持，主要沟通 FTP 的报文。数据链接只有在传输文件时，才进行链接，传输结束后，断开链接。FTP 用户可以设置文件的格式，以及存取文件的权限。WWW 之前，FTP 应用非常广。
