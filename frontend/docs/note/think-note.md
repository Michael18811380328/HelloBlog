# 编程思维笔记

### 1 复杂问题的思维方式

自己传统的思维方式，通常是线性的，想要一步到位的思维方式，面对复杂问题，不可能直接求解

（从小的思维方式，主要是线性思路，或者分治思路（二分思路），近期学会了回溯思路，滑动窗口思路）递推思路不多（动态规划思路）

很多问题，类似傅里叶变换，需要时间转换到频率，积分后，再转换成时间，才能计算出结果。

所以，复杂问题要理清思路，逐步推理，使用茶壶算法（动态规划的递推公式），这样才能实现。

平时多练习逻辑思维（逻辑与现实经济等）

### 2 团队中的问题以及解决方法

一个子项目中，不同子项目互相干扰，冲突的解决办法

- 代码规范统一：制定统一的规范（接口规范，UI规范，commit 规范等）
- UI 的统一：不同的子项目使用不同的前缀（CSS，公共组件）
- 编程能力统一：不同的同事水平不一样，那么按照中等的水平作为整体的标准（reac-hook typescript 等技术，根据团队技术水平决定）项目设置成不同的模块，不同人完成不同的模块，只要求接口统一
- 增加自动监测模块（单元测试，集成测试）整体项目的水平的保证

其他细节可以参考网易和开课吧的笔记

### 3 代码组件重构

原因：一个组件功能低耦合高内聚。如果一个组件功能繁杂，代码量很大，不便于管理，那么应该进行重构。

步骤：

1、理解功能：把当前组件的代码读懂，并理清不同的功能和界面匹配

2、划分重构边界：根据功能确定划分的部分（功能分类，还是界面分类），然后把不同的核心代码分开

3、迁移核心代码到不同子组件，优先调试小组件，并测试核心代码和传参正确性（import部分直接全部复制）

4、迁移类型检验，删除无用代码

5、重新整理类名，函数名等；微调内部结构。

6、最后判断预期效果是否达成。如果没有达到预期效果，或者重构后仍然有问题，需要重新开始前面步骤。

### 4 发包之前检查

1、自动检查：运行单元测试（集成测试）如果有；运行代码检查（eslint 可选）

2、如果是React项目，可以打开浏览器，看控制台是否报错，界面样式和是否正常

3、如果有时间，从上一个版本到当前版本的新提交对应的功能，着重手动测试一下

4、以上无误后，发新版

### 5 前端请求注意

- 请求成功：不应该直接使用 res.data 的内容，避免后端更改返回值。最好先通过 Modal 新建一个返回对象，规范一下返回的情况。
- 请求失败：处理各种错误（界面提示）提示的消息应该和真实错误一致；不能都归结为网络错误或者不存在，只要是前端可以识别的错误，都不要使用 errorBoundary 来捕获错误。
- 请求权限：注意用户的权限（由其是表单等多种权限用户登录的情况）

自己有一个良好的习惯，现在需要重新找回来，==那就是不断 review 自己的代码，不断抄写自己的代码==。

这样可以找出无意的拼写错误，还能根据后面新增的逻辑和功能，优化自己已有的代码和功能。

### 6 review 代码流程

1. 自动化测试通过（单元测试通过，格式检查通过）
2. 浏览器界面打开，使用过程中，操作正常，控制台无报错
3. 特殊情况界面不会崩溃（用户不输入，或者错误输入时，界面不崩溃，最好有友好的提示）
4. 代码中无 console.log 或者无用注释，无中文
5. 代码名称检查（变量名、函数名等，符合驼峰，意义明确不混淆）
6. 可选：算法优化；性能优化等

### 7 茶壶问题

首先建立一个简单的模型，解决一个简单的问题。如果一个复杂的问题，那么首先判断能否化解成一个简单的问题，然后化解成一个简单的问题，然后递推计算出原始的答案。

例子：react-dnd 按照官方的模板，掌握了这个后，然后把已有的问题转换成现在的问题。

### 8 编程语言的未来思考

最近看了一篇博客，讲述 ruby 的衰落和 golang 的兴盛，原因可能和互联网发展，公司规模有关。

Ruby 入手简单，适合小公司快速开发，很短时间内即可完成项目，但是后期项目变大，多人合作复杂。

Golang 入手复杂，规则限制比较多，适合大公司开发项目，适合多人团队开发。

早期互联网企业中小型较多，关注开发的速度和效率，项目规模较小，使用 Ruby 较多。

后期互联网企业逐步变成大企业，关注多人协作，关注整体维护，所以使用 Golang 较多，ruby 使用变少。

前端也一样，大公司阿里等逐步使用 ts 完成公共组件，就是应对多人合作的方案。

### 9 产品设计和容错率

产品设计中，刚开始不要做太多的用户输入检查（例如一个页面有10个必填项），只需要在后台抛出一个异常，程序不奔溃就行，这样可以加快产品开发，也便于用户初始使用，可以满足 90% 的情况即可。后续测试和用户使用中，根据反馈的问题逐步完善产品。刚开始考虑太多，会忽略主要功能和设计。实际开发中，刚开始把握主要功能即可，边界情况可以暂不处理。

刷题中，需要代码完全通过测试用例，而且有足够多的测试用例，需要完成 100% 的测试用例通过。

### 10 表单长度设计

如果是一个 toC 的产品，设计一个调查问卷或者表单，表单项最好不要太长。如果一个表单需要用户填写消耗5分钟以上，大部分用户都会没有耐心。如果是必填的项，那么用户可能随便填写，这样调查就失去了正确性。

所以需要根据用户的水平，确定表单的长度和深度，尽量让用户做选择题，而不是让用户做填空题，而且这样更便于用户填写，便于最后数据分析整理等。

