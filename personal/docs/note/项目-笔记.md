# 项目笔记 

 原始表格链接：https://cloud.seatable.cn/dtable/external-links/59b453a8639945478de2/

 
## 0475 一个左侧序号列冻结算法


算法：一个左侧序号列冻结算法

需求描述：一个二维表格，上下滚动时，顶部的表头是固定的（已经实现）；左右滚动时，需要首列固定。表格的结构是：外部一个 div container，然后渲染每一行 div，每一行渲染多个单元格 div 水平排列。

基本思路：

主要处理左侧的冻结的第一列。
默认状态下：设置第一列是 position: absolute，marginleft 或者 left 是0; 然后这个位置会塌陷，后面使用一个相同的 DIV 占个位置。
上下滚动时，不变化。
左右滚动时：设置第一列是 position: fixed 固定定位，然后设置 marginLeft 是固定的0即可。需要处理表头的 z-index 确保左右滚动时，第一列不会显示到表格外部。
注意顶部表头行的样式（表头滚动，那么全部需要滚动，表内容滚动，也是全部需要滚动，通过 ref 直接更改 style）

   
## 0481 如何禁止用户打开浏览器


很多网站为了禁止用户打开控制台，通常使用定时器，循环定时检测用户是否打开控制台（例如文心一言）

那么在网页加载完成后，清空全部定时器即可

参考：[https://www.zhihu.com/question/597286223](https://www.zhihu.com/question/597286223 "https://www.zhihu.com/question/597286223")

```javascript
window.onload = function () {
    // 清理所有的定时器
	if (location.host == "yiyan.baidu.com") {
		let endTid = setTimeout(function () {});
		for (let i = 0; i <= endTid; i++) {
			clearTimeout(i);
			clearInterval(i);
		}
	}
}
```

原始版本

```javascript
setInterval(function() {
  check()
}, 4000);

var check = function() {
  function doCheck(a) {
    if (("" + a/a)["length"] !== 1 || a % 20 === 0) {
      (function() {}
      ["constructor"]("debugger")())
    } else {
      (function() {}
      ["constructor"]("debugger")())
    }
    doCheck(++a)
  } 
  try {
    doCheck(0)
  } catch (err) {}
};
check();
```

简化版

&#x20;       猜测是在一瞬间瞬间让你的函数调用超出最大限制, 然后导致控制报错,&#x20;

&#x20;       此时这个函数下的就存在了某个可以让你进行 debugger 操作的函数, 有大佬可以解释下吗?&#x20;

&#x20;       本意是为了方便开发者调试结果变成了拦截开发者

```javascript
const check = () => {
	const doCheck = (a) => {
        (function() {}["constructor"]("debugger")());
        // 立即执行匿名函数 调用 constructor函数传入 字符串 "debugger"
	    doCheck(++a); // 递归调用
	};
	try {
	    doCheck(0);
	} catch (err) {
	    console.log("err", err); // 超出最大调用限制 Maximum call stack size exceeded
	}
};
check();
// 每隔4秒检测一次
setInterval(check, 4000);

```

​

  